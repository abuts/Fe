function [D,x0,alpha,e_sw,Icr,dIcr] = Ei400_uvw111_at110ver()
% simplified verification script, which allows one to check
% how do sqw cut works

%-------------------------------------------------
% Parameters :
%
data_source= fullfile(pwd,'Data','Fe_ei200.sqw');

bragg = [1,1,0];  % selected bragg
%
% Cut properties:
%
cut_direction=[1,-1,1];
dE = 2.5;
dK = 0.05;
%
% Points on Q-dE plane to make 1D cuts
cut_p =  [-2.932074e-01, 110;
-2.873032e-01, 106;
-2.812843e-01, 102;
-2.751437e-01, 98;
-2.688738e-01, 94;
-2.624661e-01, 90;
-2.559109e-01, 86;
-2.491977e-01, 82;
-2.423144e-01, 78;
-2.352474e-01, 74;
-2.279812e-01, 70;
-2.204980e-01, 66;
-2.127769e-01, 62;
-2.047937e-01, 58;
-1.965200e-01, 54;
-1.879212e-01, 50;
-1.789560e-01, 46;
-1.695730e-01, 42;
-1.597077e-01, 38;
-1.492770e-01, 34;
-1.381710e-01, 30;
-1.262385e-01, 26;
-1.132620e-01, 22];

[D0,x00,alpha0,e_sw1,Icr1,dIcr1,all_plots]=calc_sw_intencity_dGauss(data_source,bragg,cut_direction,cut_p,dE,dK);
for i=1:3
    close(all_plots(i));
end
% 
cut_direction=[1,-1,-1];
%
% Points on Q-dE plane to make 1D cuts
cut_p =  [ -3.386368e-01, 110;
-3.324636e-01, 106;
-3.261711e-01, 102;
-3.197520e-01, 98;
-3.131985e-01, 94;
-3.065017e-01, 90;
-2.996518e-01, 86;
-2.926378e-01, 82;
-2.854472e-01, 78;
-2.780660e-01, 74;
-2.704783e-01, 70;
-2.626656e-01, 66;
-2.546066e-01, 62;
-2.462765e-01, 58;
-2.376460e-01, 54;
-2.286799e-01, 50;
-2.193359e-01, 46;
-2.095616e-01, 42;
-1.992914e-01, 38;
-1.884413e-01, 34;
-1.769004e-01, 30;
-1.645169e-01, 26;
-1.510740e-01, 22];

[D1,x01,alpha1,e_sw1,Icr1,dIcr1,all_plots]=calc_sw_intencity_dGauss(data_source,bragg,cut_direction,cut_p,dE,dK);
for i=1:3
    close(all_plots(i));
end

cut_direction=[-1,-1,-1];
%
% Points on Q-dE plane to make 1D cuts
cut_p =  [-3.566562e-01, 120;
-3.506575e-01, 116;
-3.445508e-01, 112;
-3.383303e-01, 108;
-3.319893e-01, 104;
-3.255205e-01, 100;
-3.189159e-01, 96;
-3.121664e-01, 92;
-3.052623e-01, 88;
-2.981922e-01, 84;
-2.909437e-01, 80;
-2.835024e-01, 76;
-2.758523e-01, 72;
-2.679745e-01, 68;
-2.598475e-01, 64;
-2.514461e-01, 60;
-2.427404e-01, 56;
-2.336946e-01, 52;
-2.242657e-01, 48;
-2.144002e-01, 44;
-2.040313e-01, 40;
-1.930731e-01, 36;
-1.814119e-01, 32;
-1.688921e-01, 28;
-1.552904e-01, 24;
NaN, NaN;
1.260975e-01, 22;
1.403574e-01, 26;
1.533845e-01, 30;
1.654521e-01, 34;
1.767454e-01, 38;
1.873967e-01, 42;
1.975045e-01, 46;
2.071443e-01, 50;
2.163757e-01, 54;
2.252466e-01, 58;
2.337961e-01, 62;
2.420569e-01, 66;
2.500563e-01, 70;
2.578178e-01, 74;
2.653613e-01, 78;
2.727043e-01, 82;
2.798619e-01, 86;
2.868476e-01, 90];

[D2,x02,alpha2,e_sw1,Icr1,dIcr1,all_plots]=calc_sw_intencity(data_source,bragg,cut_direction,cut_p,dE,dK);
for i=1:3
    close(all_plots(i));
end

%
D     = (D0+D1+D2)/3
x0    =(x00+x01+x02)/3
alpha = (alpha0+alpha1+alpha2)/3
